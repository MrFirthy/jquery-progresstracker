(function(e){e.fn.progressTracker=function(t){function r(){var t=e(window).scrollTop();e(".pt-section").each(function(r){var i=e(this),s=i.offset().top,o=s+i.height(),u=i.attr("id");if(e.isNumeric(n.positiveTolerance)){s+=n.positiveTolerance;o+=n.positiveTolerance}if(e.isNumeric(n.negativeTolerance)){s-=n.negativeTolerance;o-=n.negativeTolerance}if(t>=s&&t<=o){e(".progress-tracker ul li").removeClass("active");e(".progress-tracker ul li.section-"+u).addClass("active")}})}function i(){var t=e(window).scrollTop(),r=e(".progress-tracker"),i,s;if(n.fadeIn){i=e(".pt-section:first").offset().top;s=e(".pt-section:last").offset().top+e(".pt-section:last").height()/2}if(t>=i-300&&t<s){if(!r.is(":visible")){r.fadeIn()}}else if(t>=s){if(r.is(":visible")){r.fadeOut()}}if(t<i-300&&r.is(":visible")){r.fadeOut()}}var n=e.extend({linking:true,tooltip:"constant",positiveTolerance:0,negativeTolerance:0,fadeIn:true,disableBelow:0},t);e("body").append('<div class="progress-tracker"><ul></ul></div>');e(".pt-section").each(function(t){var r=e(this),i=r.attr("id"),s=r.data("name"),o="",u="";if(n.linking){o='<a class="pt-circle" href="#'+i+'"></a>'}if(n.tooltip){u="<span class='pt-description'><span>"+s+"</span></span>"}e(".progress-tracker ul").append('<li class="section-'+i+'">'+o+u+"</li>");e(".progress-tracker").css({"margin-top":"-"+e(".progress-tracker").height()/2+"px"})});if(n.linking){e(".progress-tracker ul li a.pt-circle").on("click",function(t){t.preventDefault();var n=e(this).attr("href");e("html, body").animate({scrollTop:e(n).offset().top+1},1e3)})}if(n.tooltip=="hover"){e(".progress-tracker ul li").hover(function(){e(this).find(".pt-description").fadeIn()},function(){e(this).find(".pt-description").fadeOut()})}else if(n.tooltip=="constant"){e(".progress-tracker").addClass("constant")}e(window).scroll(function(){r();i()});if(n.disableBelow>0&&e.isNumeric(n.disableBelow)){var s;function o(){if(e(window).width()<=n.disableBelow){e(".progress-tracker").hide()}else{e(".progress-tracker").show()}}e(window).resize(function(){clearTimeout(s);s=setTimeout(o,150)});o()}}})(jQuery)